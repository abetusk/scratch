{
  "unit": [1,0.5,1],
  "unit_center": [0, 0.25, 0],
  "_unit": [1,1,1],
  "_unit_center": [0, 0.5, 0],
  "up":[0,1,0],
  "symmetry": "y",
  "dock_slice": 0.03125,
  "dock_threshold": 0.95,
  "point_similarity_threshold": 0.95,
  "eps": 0.00097656250000000000,

  "_direction_index_map" : [ "x+", "x-", "y+", "y-", "z+", "z-" ],

  "_notes": [
    "[ \"block\", \"block\", 4 ], is redudant as it's taken care by symmetry from block-block-0",
    "dock_exemplar assumes same orientation. So block_000 w/ block_000",

    "block,block x+(0) : should take care of red walls in xz plane (rot around y)",
    "block,. y+(0) : empty space above block",
    "open,open x+(0) : should take care of green in xz plance (rot around y)",
    "inner-corner,walls-to-open x+(0) : should take care of single red wall post (xz)",
    "straight,straight z+(4) : double walls on green (xz)",
    "support,support y+(2) : (single) support can stack in y+ direction",
    "supports,supports y+(2) : (4) supports can stack in y+ direction",
    "support-bottom,_ y-(3) : (single) support base needs to be above ground level (_)",
    "supports-bottom,_ y-(3) : (4) supports base needs to be above ground level (_)",
    "gap,. y-(3) : special consideration for gap, needs to have empty space below it",

    "note: we're going to need to do more with the dock exemplars to get all the rules we want.",
    "the inner-corner has handedness so we'll need to at least take care of the other configuration but",
    "we're also going to need to take care of the ramps etc. which will span multiple units.",
    "we're bagging on the split (simple) tiles as they 'should' work but we want to keep things reasonable for now to test."
  ],

  "dock" : {
    "." : { "nei": [ "*", "*", "*", "*", "*", "*" ], "description" : "empty space" },
    "#" : { "nei": [ ". #", ". #", ". #", "#", ". #", ". #" ], "description" : "ground" },
    "*" : { "nei": ["*","*","*","*","*","*"], "description" : "wildcard" },

    "-" : { "description" : "(xz) green open                        (-------)" },
    "=" : { "description" : "(xz) green with red walls              (W-----W)" },
    "L" : { "description" : "(xz) left corner (wall), right open    (W------) (looking into tile)" },
    "R" : { "description" : "(xz) right corner (wall), left open    (------W) (looking into tile)" },
    "E" : { "description" : "(xz) three (red) wall split over green (W--W--W)" },
    "e" : { "description" : "(xz) three (red) wall split over green (W--w--W) start (unneeded?)" },
    "W" : { "description" : "(xz) red wall                          (WWWWWWW)" },

    "[" : {  "description" : "(xz) left half red wall               (WWWW--W)" },
    "]" : {  "description" : "(xz) right half red wall              (W--WWWW)" },

    "O" : { "description" : "(y) support base" },
    "o" : { "description" : "(y) support" },
    "X" : { "description" : "(y) supports base" },
    "x" : { "description" : "(y) support" },
    "|" : { "description" : "(y) support, supports, support-base, supports-base (O o X x)" },
    "_" : { "description" : "(y) ground, support(s) or empty (O o X x . #)" },

    "&" : { "description" : "null" }
  },

  "tile" : {

    "0" : { "name":"0", "description":"empty",
            "dock": [ ". * _",
                      ". * _",
                      ". * _",
                      ". * _",
                      ". * _",
                      ". * _" ] },

    "1" : { "name":"1", "description":"ground",
            "dock": [ ". #",
                      ". #",
                      ". # O X",
                      "#",
                      ". #",
                      ". #" ] }

  },


  "dock_template" : {
    "o" : { "nei" : [ "open_green",       "open_green", ".", ".|U", "open_green",   "open_green" ], "description": "open"  },
    "s" : { "nei" : [ "wall",             "wall",       ".", ".|U", "walls_green",  "walls_green" ], "description": "straight with walls" },
    "c" : { "nei" : [ "walls_green",      "wall",       ".", ".|U", "wall",         "wall" ], "description" : "cap (end)" },
    "i" : { "nei" : [ "right_wall_green", "open_green", ".", ".|U", "open_green",   "left_wall_green" ], "description" : "inner corner" }
  },

  "_source": [
    { "name":"block",           "dock":[["W", "W", ".", "_", "W", "W"]] },
    { "name":"bump",            "dock":[["-", "-", ".", "_", "-", "-"]] },
    { "name":"bump-down",       "dock":[["-", "-", ".", "_", "-", "-"]] },
    { "name":"bump-down-walls", "dock":[["W", "W", ".", "_", "=", "="]] },
    { "name":"bump-walls",      "dock":[["W", "W", ".", "_", "=", "="]] },
    { "name":"castle",          "dock":[["W", "W", ".", "_", "=", "="]] },
    { "name":"corner",          "dock":[["W", "R", ".", "_", "W", "L"]] },
    { "name":"crest",           "dock":[["W", "W", ".", "_", "W", "W"]] },
    { "name":"end",             "dock":[["W", "W", ".", "_", "W", "="]] },
    { "name":"gap",             "dock":[["W", "W", ".", ".", "=", "="]] },
    { "name":"hill-corner",     "dock":[["W", "R", ".", "_", "W", "L"]] },
    { "name":"hill-round",      "dock":[["W", "W", ".", "_", "W", "W"]] },
    { "name":"hill-square",     "dock":[["W", "W", ".", "_", "W", "W"]] },
    { "name":"hill-open",       "dock":[["-", "-", ".", ".", "-", "-"]] },
    { "name":"hole-round",      "dock":[[".", ".", ".", ".", ".", "="]] },
    { "name":"hole-square",     "dock":[["W", "W", ".", ".", "W", "="]] },
    { "name":"inner-corner",    "dock":[["R", "-", ".", "_", "-", "L"]] },

    { "name":"narrow-block",    "dock":[["W", "W", ".", "_", "W", "W"]] },
    { "name":"narrow-round",    "dock":[["W", "W", ".", "_", "W", "W"]] },
    { "name":"obstacle-block",  "dock":[["W", "W", ".", "_", "W", "W"]] },
    { "name":"obstacle-diamond","dock":[["W", "W", ".", "_", "W", "W"]] },
    { "name":"obstacle-triangle","dock":[["W", "W", ".", "_", "W", "W"]] },

    { "name":"open",            "dock":[["-", "-", ".", "_", "-", "-"]] },

    { "name":"ramp",            "dock":[[".", ".", "$1",".", "*", "="], [".", ".", ".", "$0", "=", "*"]], "d_cell": [[0,0,0], [0,1,0]] },

    { "name":"ramp-large",      "dock":[[".", ".", ".", ".", "$1","="],
                                        [".", ".", "$2","*", "*", "$0"],
                                        [".", ".", ".","$1", "=", "."]],
                                "d_cell":[[0,0,0], [0,0,1], [0,1,1]] },

    { "name":"ramp-sharp",      "dock":[["W", "W", ".", "_", "W", "W"]] },
    { "name":"ramp-square",     "dock":[["W", "W", ".", "_", "W", "W"]] },
    { "name":"round-corner-a",  "dock":[[".", "=", ".", ".", ".", "="]] },
    { "name":"round-corner-b",  "dock":[["W", "=", ".", "_", "W", "="]] },
    { "name":"round-corner-c",  "dock":[[".", "R", ".", ".", ".", "L"]] },

    { "name":"round-large-corner",
                                "dock":[ ["$1", "=", ".", ".", ".", "$2"],
                                         ["*", "$0", ".", ".", "*", "$3"],
                                         ["$3", "*", ".", ".", "$0", "*"],
                                         [ "*","$2", ".", ".", "$1", "="]],
                                "d_cell": [[0,0,0], [1,0,0], [0,0,-1], [1,0,-1]] },

    { "name":"round-large-corner-open",
                                "dock":[ ["$1", "R", ".", ".", ".", "$2"],
                                         ["*", "$0", ".", ".", "*", "$3"],
                                         ["$3", "-", ".", ".", "$0", "-"],
                                         [ "*","$2", ".", ".", "$1", "L"]],
                                "d_cell": [[0,0,0], [1,0,0], [0,0,-1], [1,0,-1]] },

    { "name":"side",            "dock":[["W", "-", ".", "_", "R", "L"]] },
    { "name":"skew-corner",     "dock":[[".", "=", ".", ".", ".", "="]] },
    { "name":"skew-large-corner",
                                "dock":[[".", "=", ".", ".", ".", "$1"],
                                        ["$2","*", ".", ".", "$0", "*"],
                                        ["*", "$1", ".", ".", ".", "="] ],
                                "d_cell":[[0,0,0], [0,0,-1], [1,0,-1]] },

    { "name":"skew-large-corner-open",
                                "dock":[[".", "R", ".", ".", ".", "$1"],
                                        ["$2","-", ".", ".", "$0", "-"],
                                        ["-", "$1", ".", ".", ".", "L"] ],
                                "d_cell":[[0,0,0], [0,0,-1], [1,0,-1]] },

    { "name":"split",           "dock":[["W", "W", ".", "_", "E", "E"]] },
    { "name":"split-start",     "dock":[["W", "W", ".", "_", "E", "="]] },
    { "name":"split-t",         "dock":[["=", "=", ".", "_", "W", "="]] },
    { "name":"split-walls-to-open",
                                "dock":[["R", "L", ".", "_", "-", "E"]] },

    { "name":"square-corner-a", "dock":[[".", "=", ".", "_", ".", "="]] },
    { "name":"start",           "dock":[[".", ".", ".", "_", ".", "="]] },
    { "name":"straight",        "dock":[["W", "W", ".", "_", "=", "="]] },

    { "name":"support",         "dock":[["*", "*", "o", "o O", "*", "*"]] },
    { "name":"support-bottom",  "dock":[["*", "*", "o", "#",   "*", "*"]] },

    { "name":"supports",        "dock":[["*", "*", "x", "x X", "*", "*"]] },
    { "name":"supports-bottom", "dock":[["*", "*", "x", "#",   "*", "*"]] },

    { "name":"tunel-double",    "dock":[["W", "W", ".", "_", "=", "="]] },
    { "name":"tunel-narrow",    "dock":[["W", "W", ".", "_", "=", "="]] },
    { "name":"tunel-wide",      "dock":[["W", "W", ".", "_", "=", "="]] },

    { "name":"wall-left",       "dock":[["W", "W", ".", "_", "=", "["]] },
    { "name":"wall-right",      "dock":[["W", "W", ".", "_", "=", "]"]] },
    { "name":"walls-to-open",   "dock":[["R", "L", ".", "_", "-", "="]] },
    { "name":"windmill",        "dock":[["W", "W", ".", "_", "=", "="]] }
  ],


  "xxx" : {
    "__ramp__" : { "block" : [ [0,0,0], [0,1,0] ], "nei" : [ "*,*, $1,.|U, wg,*", "*,*,.,$0,*,wg" ] }
  },
  

  "_dock_exemplar" : [
    [ "supports-bottom", "_", 3 ]
  ],

  "dock_exemplar": [
    [ "straight", "straight", 0 ],
    [ "straight", "straight", 4 ],

    [ "side", "side", 4 ],
    [ "open", "open", 0 ],

    [ "straight", ".", 2 ],
    [ "straight", ".", 3 ]
  ],

  "__dock_exemplar" : [
    [ "block", "block", 0 ],

    [ "block", ".", 2 ],
    [ "block", "support|supports|support-bottom|supports-bottom|_|.", 3 ],

    [ "open", "open", 0 ],

    [ "inner-corner", "walls-to-open", 0 ],
    [ "straight", "straight", 4 ],

    [ "side", "side", 4 ],

    [ "support", "support", 2 ],
    [ "supports", "supports", 2 ],
    [ "support-bottom", "_", 3 ],
    [ "supports-bottom", "_", 3 ],

    [ "gap", ".", 3 ]
  ],

  "source" : [
    "open",
    "side", "straight",
    "skew-large-corner-open"
  ],

  "working_source" : [
    "block",
    "corner", "end", "inner_corner", "open",
    "ramp", "ramp-large",
    "round-corner-a", "round-corner-b", "round-corner-c",
    "round-large-corner", "round-large-corner-open",
    "side", "skew-corner", "skew-large-corner",
    "skew-large-corner-open",
    "split", "split-start",
    "split-t", 
    "split-walls-to-open",
    "square-corner-a",
    "start", "straight",
    "support", "support-bottom",
    "supports", "supports-bottom",
    "walls-to-open"
  ],

  "excluded": [
    "ramp-a", "ramp-b", "ramp-c", "ramp-d",
    "ramp-side", "ramp-large-side",
    "round-large-corner", "round-large-corner-open",
    "large-corner-open"
  ],

  "source_info" : {
    "__ramp-large": {"offset": [ 0, 0, -0.5 ]},
    "__skew-large-corner" : {"offset": [ 0.5, 0, -0.5 ]}
  },

  "__source": [
    "block", "support", "supports", "support-bottom", "supports-bottom",
    "open", "inner-corner", "walls-to-open",
    "straight", "gap", "ramp"
  ],

  "foo" : [
    { "block"       : [ "#B" ] },
    { "bump"        : [ "#o" ] },
    { "bump-down"   : [ "#o" ] },
    { "bump-walls"  : [ "#w" ] },
    { "castle"      : [ "#w" ] },
    { "corner"      : [ "#c" ] },
    { "crest"       : [ "#w" ] },
    { "end"         : [ "#e" ] },
    { "gap"         : [ "#gap" ] },
    { "hill-corner" : [ "#c" ] },
    { "hill-round"  : [ "#w" ] },
    { "hole-open"   : [ "#o" ] },
    { "hole-round"  : [ "#r" ] },
    { "hole-square" : [ "#e" ] },
    { "inner-corner": [ "#i" ] },
    { "narrow-block": [ "#w" ] },
    { "narrow-round": [ "#w" ] },
    { "narrow-square" : [ "#w" ] },
    { "obstacle-block"    : [ "#w" ] },
    { "obstacle-diamond"  : [ "#w" ] },
    { "obstacle-triangle" : [ "#w" ] },
    { "open"        : [ "#o" ] },
    { "ramp"        : [ "..." ] },
    { "ramp-large"  : [ "..." ] },
    { "ramp-large-side"  : [ "..." ] },
    { "ramp-sharp"  : [ "#w" ] },
    { "ramp-side"   : [ "..." ] },
    { "ramp-square" : [ "#w" ] },
    { "side"        : [ "#s" ] },
    { "split"       : [ "#gw3" ] }
  ],

  "#barnote" : [
    "U - .|support|ground"
  ],

  "bar" : [
    { "round-corner-a" : [ ".", "gp", ".", "U", ".", "gp" ] },
    { "round-corner-b" : [ "Rw","gp", ".", "U", "Rw","gp" ] },
    { "round-corner-c" : [ ".", "go", ".", "U", ".", "go" ] },
    { "round-large-corner" : [
      { "id": "$rlc0", "block" : [0,0, 0], "dock": [ "$rlc1", "gp",     ".", "U", "*", "$rlc2" ] },
      { "id": "$rlc1", "block" : [1,0, 0], "dock": [ "*",     "$rlc0",  ".", "U", "$rcl3", "*" ] },
      { "id": "$rlc2", "block" : [0,0,-1], "dock": [ "$rlc3", "*",      ".", "U", "*",  "$rcl0" ] },
      { "id": "$rlc3", "block" : [1,0,-1], "dock": [ "*",     "gp",     ".", "U", "$rcl1", "*" ] }
    ]},
    { "round-large-corner-open" : [
      { "id": "$rlco0", "block" : [0,0, 0], "dock": [ "$rlco1", "gr",     ".", "U", "*", "$rlco2" ] },
      { "id": "$rlco1", "block" : [1,0, 0], "dock": [ "*",     "$rlco0",  ".", "U", "$rclo3", "*" ] },
      { "id": "$rlco2", "block" : [0,0,-1], "dock": [ "$rlco3", "*",      ".", "U", "*",  "$rclo0" ] },
      { "id": "$rlco3", "block" : [1,0,-1], "dock": [ "*",     "go",     ".", "U", "$rclo1", "*" ] }
    ]}
  ]

}
